<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | 老东叔写代码</title>
<meta name=keywords content><meta name=description content="Posts - 老东叔写代码"><meta name=author content="jiandong.liu93"><link rel=canonical href=https://meepoljd.github.io/posts/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://meepoljd.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://meepoljd.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://meepoljd.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://meepoljd.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://meepoljd.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://meepoljd.github.io/posts/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="Posts"><meta property="og:description" content="埋藏无处安放的思绪"><meta property="og:type" content="website"><meta property="og:url" content="https://meepoljd.github.io/posts/"><meta property="og:image" content="https://meepoljd.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="老东叔写代码"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://meepoljd.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Posts"><meta name=twitter:description content="埋藏无处安放的思绪"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://meepoljd.github.io/posts/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://meepoljd.github.io/ accesskey=h title="Home (Alt + H)"><img src=https://meepoljd.github.io/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://meepoljd.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://meepoljd.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://meepoljd.github.io/>Home</a></div><h1>Posts
<a href=/posts/index.xml title=RSS aria-label=RSS><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>写一篇博客
<span class=entry-hint title=Draft><svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentcolor"><path d="M160-410v-60h3e2v60H160zm0-165v-60h470v60H160zm0-165v-60h470v60H160zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22-4.5 22.5T862.09-380L643-160H520zm3e2-263-37-37 37 37zM580-220h38l121-122-18-19-19-18-122 121v38zm141-141-19-18 37 37-18-19z"/></svg></span></h2></header><div class=entry-content><p></p></div><footer class=entry-footer><span title='2024-06-21 15:54:49 +0800 CST'>June 21, 2024</span>&nbsp;·&nbsp;0 min&nbsp;·&nbsp;0 words&nbsp;·&nbsp;ByteDance</footer><a class=entry-link aria-label="post link to 写一篇博客" href=https://meepoljd.github.io/posts/%E5%86%99%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>装修计划
<span class=entry-hint title=Draft><svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentcolor"><path d="M160-410v-60h3e2v60H160zm0-165v-60h470v60H160zm0-165v-60h470v60H160zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22-4.5 22.5T862.09-380L643-160H520zm3e2-263-37-37 37 37zM580-220h38l121-122-18-19-19-18-122 121v38zm141-141-19-18 37 37-18-19z"/></svg></span></h2></header><div class=entry-content><p>预算盘点 我们要在这件事上花多少钱，影响后续的流程决策
决策点 全包 or 半包 流程 选材备忘 排期 杂项问题 楼道拐角是否会影响长板材进场 流程有了，看起来大差不差，主材采购时间点，我们什么时候去买什么 防盗门什么时候进场 有哪些需要跟物业打交道 不能太较真，太较真就觉得哪都是坑 from cz Ref 干货必看！史上最全装修流程。另附施工秘诀，值得收藏！_家装主材_什么值得买 (smzdm.com)
教你分清清包、半包、全包三种装修方式 - 知乎 (zhihu.com)</p></div><footer class=entry-footer><span title='2024-03-21 09:26:45 +0800 CST'>March 21, 2024</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;24 words&nbsp;·&nbsp;jiandong.liu93</footer><a class=entry-link aria-label="post link to 装修计划" href=https://meepoljd.github.io/posts/interior-finish/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>关于aPaaS平台的思考
<span class=entry-hint title=Draft><svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentcolor"><path d="M160-410v-60h3e2v60H160zm0-165v-60h470v60H160zm0-165v-60h470v60H160zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22-4.5 22.5T862.09-380L643-160H520zm3e2-263-37-37 37 37zM580-220h38l121-122-18-19-19-18-122 121v38zm141-141-19-18 37 37-18-19z"/></svg></span></h2></header><div class=entry-content><p>什么是Builder Builder scope划分我的认知里，是从前端视角产生的，基于组件编辑产生DSL，并且解析DSL产出页面。
从一个更中立的视角来看，其实这是两件事，IDE与运行容器。而这两者之间，隐含了一个不被重视的服务端工作，就是DSL的持久化与维护。
产品演进 前身是kunlun 我们是服务B端的，少数大客户的边缘Case也是要处理的，或者说很重要 我们曾经在两个路径里摇摆，服务字节还是搞好商业化 这一年的主题，删繁就简 支持了电商，但又抛弃了电商 6月接客 前端演进 1.0 2.0 3.0
没法纠结技术细节，前端内容不是很懂，投入研究的ROI太低了。
技术现状 由于之前一直没有服务端团队，所以所有的资料都是从前端视角来做的。尽快完成一份服务端的梳理与规划文档十分关键
设计态 核心问题，一个页面有哪些信息来描述，保存在哪里
从PageConfig的存在，可以初步总结Builder的服务端在这里有两个核心职责：
数据的持久化，未来的协同编辑，增量存储等
IDE的体验支持（既然叫IDE，有什么是本地解决不了的，我在把自己越做越薄？）
基于现有的资料：
页面=基本信息+UIDL+Page Config
基本信息：页面的标题描述等
UIDL：对页面内容的定义
Page Config：服务端需要感知的内容，导航信息，权限树，多语言，环境变量等。
我的问题：
这个划分逻辑是否合理，Page Config看起来更像是Index，用来辅助IDE运行提示。是否应该影响页面本身的定义与组织
写入时机是否合理，page config的实时性要求是什么样的。检索UIDL生产page config保存的设计是否合理。
如果UIDL只能全量保存，就不应当支持并发编辑。进一步的page config的开发辅助功能可以本地进行。为什么要向服务端投递。
Builder DSL希望在一份文件内包含页面所有的表达，实质上已经弱化了Page Config的功能，一个IDE的Index使用应当影响主流程性能。应当向旁路转移
但以上更多的是基于存储视角的逻辑，设计态应该进行什么样的表达，元素有哪些没有进行完整的讨论。
类型
位置 或者说 层级
属性
行为 这里包含 数据关联
“编译” 在设计态完成设计，与运行态执行之间，服务端可以做什么
这个是我们可以摆脱前端做的，或者说前端做不了的。在这两个环节之间，前端没有任何实体。
Builder DSL的“编译期优化”
时效性上，当前的产品设计上，发布流程会给服务端多少时间与空间。
服务端直接渲染出HTML+JS的代码不是更强，有没有办法做0成本抽象
必须找到实际可解决的问题。好好深入一下运行态的问题。
ByteFX编译耗时很慢，目前被前置到了设计态触发。这部分算力成本的转移是否合理呢 Glad方案，是否优雅 运行态 通过下发设计态的产物，让App跑起来
阶段目标 明确业务边界
我们在做什么，要做什么
Prove我们自己的价值，之前只有前端也能运转，我们7个的价值是什么
关联业务方 谁为我们提供了什么样的支持，我们之间的边界是啥
各种Gateway
RefService：metadata服务中的另一个模块，mt_ref表中记录了页面对元数据的引用关系...</p></div><footer class=entry-footer><span title='2024-03-20 19:11:14 +0800 CST'>March 20, 2024</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;114 words&nbsp;·&nbsp;jiandong.liu93</footer><a class=entry-link aria-label="post link to 关于aPaaS平台的思考" href=https://meepoljd.github.io/posts/what-is-apaas/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>尝试读懂Go ASM
<span class=entry-hint title=Draft><svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentcolor"><path d="M160-410v-60h3e2v60H160zm0-165v-60h470v60H160zm0-165v-60h470v60H160zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22-4.5 22.5T862.09-380L643-160H520zm3e2-263-37-37 37 37zM580-220h38l121-122-18-19-19-18-122 121v38zm141-141-19-18 37 37-18-19z"/></svg></span></h2></header><div class=entry-content><p>问题 某同学在日常工作中写出了一段十分诡异的代码，在CR中产生的激烈讨论。
var a = map[string]string{} func main() { go func() { v := a["key1"] log.Println(v) }() go func() { b := make(map[string]string) a = b }() } 显然，在工作中写出这种有明显争议的代码是十分不好的，但如何证明这段代码确实不会panic也确实是个问题。
思路 与其研究各种语法特性，不如借机研究一下Go的汇编，通过更底层的行为描述确认运行时的行为。
验证 以下代码解释参考了GPT的结果，AI改变世界~
Go汇编引入了4个伪寄存器，这4个寄存器时编译器用来维护上下文、特殊标识等作用的
FP(Frame pointer):记录栈帧的初始地址，用于访问函数的参数与局部变量
PC(Program counter):记录当前正在执行的指令，控制执行流程
SB(Static base pointer):SB指向了可执行程序的数据段的开始。用于访问全局变量和函数地址。
SP(Stack pointer):栈顶，用于管理调用栈
首先声明一个main方法
0x0000 00000 (main.go:5) TEXT main.main(SB), ABIInternal, $32-0 // TEXT 包名.方法名(SB 这是基于静态地址的数据), ABIInternal, $栈帧大小-参数及返回值大小 栈帧大小如何计算
PCDATA $0, $-2 CMP R16, RSP BLS 60 // Branch if Lower or Same PCDATA $0, $-1 一段费解的代码，由于CMP命令会产生标志位变化，但不会计算得到一个值，为了垃圾回收器和其他运行时组件能够正确地解释生成的代码，使用PCDATA命令插入一个标记。...</p></div><footer class=entry-footer><span title='2024-01-28 22:53:59 +0800 CST'>January 28, 2024</span>&nbsp;·&nbsp;13 min&nbsp;·&nbsp;2628 words&nbsp;·&nbsp;jiandong.liu93</footer><a class=entry-link aria-label="post link to 尝试读懂Go ASM" href=https://meepoljd.github.io/posts/go-asm/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>使用Hugo快速搭建一个免费的静态博客</h2></header><div class=entry-content><p>为了方便迁移，不被各种笔记软件绑架，所以最近将笔记内容都迁移到一个Markdown仓库进行管理。顺便的使用Hugo将这些笔记搭建一个个人博客。
本文用于记录搭建过程中的一些操作，面向有开发基础的同学，不会再讲解什么是Git。
环境搭建 Git
一个顺手的编辑器（为什么不试试Emacs呢）
hugo 安装Hugo，Mac用户可以直接
brew install hugo 为了方便使用，在创建站点时加入--format yaml，来指定配置文件的格式
hugo new site MyWebsite --format yaml Hugo 会在目录查找一个 config.toml 的配置文件。如果这个文件不存在，将会查找 config.yaml，然后是 config.json 。
主题配置 审美问题，实在不知道选什么，所以选择了一个人气较高的主题PaperMod。参考官方文档来进行安装。
Hugo的主题被存放在 MyWebsite/themes 目录下，可使用git clone 将代码拉下来
git clone https://github.com/adityatelange/hugo-PaperMod themes/PaperMod --depth=1 在 config.yml 加入如下的内容来指定使用的主题
theme: ["PaperMod"] 文章模板 hugo的模板文件位于archetypes文件夹中，其中有一个default.md文件，修改内容如下
--- title: "{{ replace .Name "-" " " | title }}" date: {{ .Date }} lastmod: {{ .Date }} author: ["jiandong.liu93"] categories: - category 1 - category 2 tags: - tag 1 - tag 2 keywords: - word 1 - word 2 description: "" # 文章描述，与搜索优化相关 summary: "" # 文章简单描述，会展示在主页 weight: # 输入1可以顶置文章，用来给文章展示排序，不填就默认按时间排序 slug: "" draft: true # 是否为草稿 comments: false showToc: true # 显示目录 TocOpen: true # 自动展开目录 autonumbering: true # 目录自动编号 hidemeta: false # 是否隐藏文章的元信息，如发布日期、作者等 disableShare: true # 底部不显示分享栏 searchHidden: true # 该页面可以被搜索到 showbreadcrumbs: true #顶部显示当前路径 mermaid: true cover: image: "" caption: "" alt: "" relative: false --- 自定义 为网站进行一些个性化的配置，比如上几个要饭的二维码。可以使用主题官方提供的配置文件模板。...</p></div><footer class=entry-footer><span title='2024-01-23 20:52:53 +0800 CST'>January 23, 2024</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;768 words&nbsp;·&nbsp;jiandong.liu93</footer><a class=entry-link aria-label="post link to 使用Hugo快速搭建一个免费的静态博客" href=https://meepoljd.github.io/posts/how-to-build-personal-website/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://meepoljd.github.io/posts/page/2/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2024 <a href=https://meepoljd.github.io/>老东叔写代码</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>